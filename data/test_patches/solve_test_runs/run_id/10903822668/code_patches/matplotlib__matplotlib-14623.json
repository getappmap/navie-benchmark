{
  "instance_id": "matplotlib__matplotlib-14623",
  "edit_test_file": null,
  "code_patch": "diff --git a/lib/matplotlib/axes/_base.py b/lib/matplotlib/axes/_base.py\nindex da2dea6..7bd4e06 100644\n--- a/lib/matplotlib/axes/_base.py\n+++ b/lib/matplotlib/axes/_base.py\n@@ -3627,18 +3627,21 @@ class _AxesBase(martist.Artist):\n             top = old_top\n \n         if self.get_yscale() == 'log':\n-            if bottom <= 0:\n-                cbook._warn_external(\n-                    'Attempted to set non-positive bottom ylim on a '\n-                    'log-scaled axis.\\n'\n-                    'Invalid limit will be ignored.')\n-                bottom = old_bottom\n-            if top <= 0:\n-                cbook._warn_external(\n-                    'Attempted to set non-positive top ylim on a '\n-                    'log-scaled axis.\\n'\n-                    'Invalid limit will be ignored.')\n-                top = old_top\n+            if bottom <= 0 or top <= 0:\n+                if bottom > top:\n+                    bottom, top = top, bottom\n+                if bottom <= 0:\n+                    cbook._warn_external(\n+                        'Attempted to set non-positive bottom ylim on a '\n+                        'log-scaled axis.\\n'\n+                        'Invalid limit will be ignored.')\n+                    bottom = old_bottom\n+                if top <= 0:\n+                    cbook._warn_external(\n+                        'Attempted to set non-positive top ylim on a '\n+                        'log-scaled axis.\\n'\n+                        'Invalid limit will be ignored.')\n+                    top = old_top\n         if bottom == top:\n             cbook._warn_external(\n                 f\"Attempting to set identical bottom == top == {bottom} \"\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 652071,
  "num_received_chars": 8863,
  "elapsed_time": 190.61326670646667,
  "lint_repair_count": 1,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}