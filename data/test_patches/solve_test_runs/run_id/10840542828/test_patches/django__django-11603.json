{
  "edit_test_file": "tests/aggregation/test_filter_argument.py",
  "test_patch": "diff --git a/tests/aggregation/test_distinct_aggregates.py b/tests/aggregation/test_distinct_aggregates.py\nnew file mode 100644\nindex 0000000..d617f9b\n--- /dev/null\n+++ b/tests/aggregation/test_distinct_aggregates.py\n@@ -0,0 +1,22 @@\n+import unittest\n+from django.db.models import Avg, Sum\n+from django.db.utils import NotSupportedError\n+from django.test import TestCase\n+from .models import Author\n+\n+class DistinctAggregatesTestCase(TestCase):\n+    @classmethod\n+    def setUpTestData(cls):\n+        Author.objects.create(name='Author1', age=30)\n+        Author.objects.create(name='Author2', age=40)\n+        Author.objects.create(name='Author3', age=50)\n+\n+    def test_avg_distinct_raises_exception(self):\n+        with self.assertRaises(TypeError) as cm:\n+            Author.objects.aggregate(avg_age=Avg('age', distinct=True))\n+        self.assertEqual(str(cm.exception), \"Avg does not allow distinct.\")\n+\n+    def test_sum_distinct_raises_exception(self):\n+        with self.assertRaises(TypeError) as cm:\n+            Author.objects.aggregate(sum_age=Sum('age', distinct=True))\n+        self.assertEqual(str(cm.exception), \"Sum does not allow distinct.\")\n\\ No newline at end of file\n",
  "inverted_patch": null
}