{
  "instance_id": "scikit-learn__scikit-learn-13439",
  "edit_test_file": "sklearn/tests/test_pipeline.py",
  "code_patch": "diff --git a/sklearn/pipeline.py b/sklearn/pipeline.py\nindex 7eaf9a4..243b67e 100644\n--- a/sklearn/pipeline.py\n+++ b/sklearn/pipeline.py\n@@ -199,6 +199,10 @@ class Pipeline(_BaseComposition):\n             if trans is not None and trans != 'passthrough':\n                 yield idx, name, trans\n \n+    def __len__(self):\n+        \"\"\"Return the number of steps in the pipeline.\"\"\"\n+        return len(self.steps)\n+\n     def __getitem__(self, ind):\n         \"\"\"Returns a sub-pipeline or a single esimtator in the pipeline\n \n",
  "test_patch": "diff --git a/sklearn/tests/test_pipeline_len.py b/sklearn/tests/test_pipeline_len.py\nnew file mode 100644\nindex 0000000..7dbe5df\n--- /dev/null\n+++ b/sklearn/tests/test_pipeline_len.py\n@@ -0,0 +1,21 @@\n+import unittest\n+from sklearn import svm\n+from sklearn.datasets import make_classification\n+from sklearn.feature_selection import SelectKBest, f_regression\n+from sklearn.pipeline import Pipeline\n+\n+class TestPipelineLen(unittest.TestCase):\n+    def test_pipeline_len(self):\n+        # Generate some data to play with\n+        X, y = make_classification(n_informative=5, n_redundant=0, random_state=42)\n+\n+        anova_filter = SelectKBest(f_regression, k=5)\n+        clf = svm.SVC(kernel='linear')\n+        pipe = Pipeline([('anova', anova_filter), ('svc', clf)])\n+\n+        # Check if accessing len(pipe) raises an error\n+        with self.assertRaises(TypeError):\n+            len(pipe)\n+\n+if __name__ == '__main__':\n+    unittest.main()\n\\ No newline at end of file\n",
  "test_inverted_patch": "diff --git a/sklearn/tests/test_pipeline_len_inverted.py b/sklearn/tests/test_pipeline_len_inverted.py\nnew file mode 100644\nindex 0000000..b20c39a\n--- /dev/null\n+++ b/sklearn/tests/test_pipeline_len_inverted.py\n@@ -0,0 +1,23 @@\n+import unittest\n+from sklearn import svm\n+from sklearn.datasets import make_classification\n+from sklearn.feature_selection import SelectKBest, f_regression\n+from sklearn.pipeline import Pipeline\n+\n+class TestPipelineLen(unittest.TestCase):\n+    def test_pipeline_len(self):\n+        # Generate some data to play with\n+        X, y = make_classification(n_informative=5, n_redundant=0, random_state=42)\n+\n+        anova_filter = SelectKBest(f_regression, k=5)\n+        clf = svm.SVC(kernel='linear')\n+        pipe = Pipeline([('anova', anova_filter), ('svc', clf)])\n+\n+        # Check if accessing len(pipe) raises an error\n+        try:\n+            len(pipe)\n+        except TypeError:\n+            self.fail(\"__BUG__HERE__\")\n+\n+if __name__ == '__main__':\n+    unittest.main()\n\\ No newline at end of file\n",
  "num_sent_chars": 393765,
  "num_received_chars": 8939,
  "elapsed_time": 93.35151100158691,
  "lint_repair_count": 0,
  "test_generation_attempts": 2,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": true,
  "fail_to_pass": true,
  "code_patch_score": 3,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}