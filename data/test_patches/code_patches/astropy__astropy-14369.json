{
  "instance_id": "astropy__astropy-14369",
  "edit_test_file": null,
  "code_patch": "diff --git a/astropy/units/format/cds.py b/astropy/units/format/cds.py\nindex 307e987..ba9e050 100644\n--- a/astropy/units/format/cds.py\n+++ b/astropy/units/format/cds.py\n@@ -111,7 +111,7 @@ class CDS(Base):\n             return t\n \n         def t_UNIT(t):\n-            r\"\\%|\u00b0|\\\\h|((?!\\d)\\w)+\"\n+            r\"\\%|\u00b0|\\\\h|((?!\\d)\\w)+(\\^\\d+)?\"\n             t.value = cls._get_unit(t)\n             return t\n \n@@ -181,13 +181,13 @@ class CDS(Base):\n \n         def p_division_of_units(p):\n             \"\"\"\n-            division_of_units : DIVISION unit_expression\n+            division_of_units : unit_expression DIVISION unit_expression\n                               | unit_expression DIVISION combined_units\n             \"\"\"\n-            if len(p) == 3:\n-                p[0] = p[2] ** -1\n-            else:\n+            if len(p) == 4:\n                 p[0] = p[1] / p[3]\n+            else:\n+                p[0] = p[2] ** -1\n \n         def p_unit_expression(p):\n             \"\"\"\n@@ -231,8 +231,12 @@ class CDS(Base):\n         def p_numeric_power(p):\n             \"\"\"\n             numeric_power : sign UINT\n+                          | sign OPEN_PAREN UINT DIVISION UINT CLOSE_PAREN\n             \"\"\"\n-            p[0] = p[1] * p[2]\n+            if len(p) == 3:\n+                p[0] = p[1] * p[2]\n+            else:\n+                p[0] = p[1] * (p[3] / p[5])\n \n         def p_sign(p):\n             \"\"\"\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 1582646,
  "num_received_chars": 44527,
  "elapsed_time": 402.7538950443268,
  "lint_repair_count": 0,
  "test_generation_attempts": 9,
  "code_generation_attempts": 4,
  "pass_to_pass": false,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null,
  "code_patch_issue-46": "diff --git a/astropy/io/ascii/cds.py b/astropy/io/ascii/cds.py\nindex 7a83fc3..2fea5e4 100644\n--- a/astropy/io/ascii/cds.py\n+++ b/astropy/io/ascii/cds.py\n@@ -110,7 +110,7 @@ class CdsHeader(core.BaseHeader):\n                 (?P<start> \\d+ \\s* -)? \\s*\n                 (?P<end>   \\d+)        \\s+\n                 (?P<format> [\\w.]+)     \\s+\n-                (?P<units> \\S+)        \\s+\n+                (?P<units> [\\w\\.\\+\\-\\/]+) \\s+  # Adjusted to capture complex unit strings\n                 (?P<name>  \\S+)\n                 (\\s+ (?P<descr> \\S.*))?\"\"\",\n             re.VERBOSE,\n"
}