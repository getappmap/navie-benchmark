{
  "edit_test_file": "xarray/tests/test_coarsen.py",
  "test_patch": "diff --git a/xarray/tests/test_coarsen_construct.py b/xarray/tests/test_coarsen_construct.py\nnew file mode 100644\nindex 0000000..7b9e3cb\n--- /dev/null\n+++ b/xarray/tests/test_coarsen_construct.py\n@@ -0,0 +1,14 @@\n+import numpy as np\n+import xarray as xr\n+\n+def test_coarsen_construct_demotes_coords():\n+    # Create a DataArray with a non-dimensional coordinate\n+    da = xr.DataArray(np.arange(24), dims=[\"time\"])\n+    da = da.assign_coords(day=365 * da)\n+    ds = da.to_dataset(name=\"T\")\n+\n+    # Perform coarsen and construct\n+    result = ds.coarsen(time=12).construct(time=(\"year\", \"month\"))\n+\n+    # Check if 'day' is still a coordinate\n+    assert \"day\" not in result.coords, \"Non-dimensional coordinate 'day' was not demoted to a variable\"\n",
  "inverted_patch": "diff --git a/xarray/tests/test_coarsen_construct_inverted.py b/xarray/tests/test_coarsen_construct_inverted.py\nnew file mode 100644\nindex 0000000..9d4d0e4\n--- /dev/null\n+++ b/xarray/tests/test_coarsen_construct_inverted.py\n@@ -0,0 +1,16 @@\n+import numpy as np\n+import xarray as xr\n+import pytest\n+\n+def test_coarsen_construct_demotes_coords():\n+    # Create a DataArray with a non-dimensional coordinate\n+    da = xr.DataArray(np.arange(24), dims=[\"time\"])\n+    da = da.assign_coords(day=365 * da)\n+    ds = da.to_dataset(name=\"T\")\n+\n+    # Perform coarsen and construct\n+    result = ds.coarsen(time=12).construct(time=(\"year\", \"month\"))\n+\n+    # Check if 'day' is still a coordinate\n+    if \"day\" not in result.coords:\n+        raise AssertionError(\"__BUG__HERE__\")\n"
}