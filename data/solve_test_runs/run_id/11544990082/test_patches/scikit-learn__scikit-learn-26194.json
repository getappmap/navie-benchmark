{
  "edit_test_file": "sklearn/metrics/tests/test_ranking.py",
  "test_patch": "diff --git a/sklearn/metrics/tests/test_roc_thresholds.py b/sklearn/metrics/tests/test_roc_thresholds.py\nnew file mode 100644\nindex 0000000..36d2b98\n--- /dev/null\n+++ b/sklearn/metrics/tests/test_roc_thresholds.py\n@@ -0,0 +1,26 @@\n+import numpy as np\n+from sklearn.metrics import roc_curve\n+\n+\n+def test_roc_curve_thresholds_exceed_one():\n+    \"\"\"Test that roc_curve can return thresholds greater than 1.\n+\n+    This test verifies that when using probability estimates with roc_curve,\n+    the returned thresholds can exceed 1, which is unexpected behavior since\n+    probabilities should be bounded between 0 and 1.\n+    \"\"\"\n+    # Set a fixed random state for reproducibility\n+    rng = np.random.RandomState(42)\n+    \n+    # Generate random binary labels\n+    y_true = rng.randint(0, 2, size=10)\n+    \n+    # Generate random probability scores between 0 and 1\n+    y_score = rng.rand(10)\n+    \n+    # Compute ROC curve\n+    _, _, thresholds = roc_curve(y_true, y_score)\n+    \n+    # Assert that there exists at least one threshold greater than 1\n+    # This demonstrates the issue where thresholds can exceed probability bounds\n+    assert (thresholds > 1).any(), \"Expected at least one threshold to exceed 1\"\n\\ No newline at end of file\n",
  "inverted_patch": "diff --git a/sklearn/metrics/tests/test_roc_thresholds_inverted.py b/sklearn/metrics/tests/test_roc_thresholds_inverted.py\nnew file mode 100644\nindex 0000000..b5c244b\n--- /dev/null\n+++ b/sklearn/metrics/tests/test_roc_thresholds_inverted.py\n@@ -0,0 +1,31 @@\n+import numpy as np\n+from sklearn.metrics import roc_curve\n+import pytest\n+\n+\n+def test_roc_curve_thresholds_should_not_exceed_one():\n+    \"\"\"Test that roc_curve should not return thresholds greater than 1 for probabilities.\n+    \n+    When using probability estimates with roc_curve, the returned thresholds\n+    should be bounded between 0 and 1, since they represent probabilities.\n+    This test will fail if thresholds exceed 1, indicating a bug.\n+    \"\"\"\n+    # Set a fixed random state for reproducibility\n+    rng = np.random.RandomState(42)\n+    \n+    # Generate random binary labels\n+    y_true = rng.randint(0, 2, size=10)\n+    \n+    # Generate random probability scores between 0 and 1\n+    y_score = rng.rand(10)\n+    \n+    # Compute ROC curve\n+    _, _, thresholds = roc_curve(y_true, y_score)\n+    \n+    # Check if any threshold exceeds 1\n+    if (thresholds > 1).any():\n+        raise AssertionError(\"__BUG__HERE__: ROC curve thresholds exceed 1 for probability scores\")\n+\n+    # All thresholds should be between 0 and 1 for probability estimates\n+    assert np.all((thresholds >= 0) & (thresholds <= 1)), \\\n+        \"ROC curve thresholds should be between 0 and 1 for probability scores\"\n\\ No newline at end of file\n"
}