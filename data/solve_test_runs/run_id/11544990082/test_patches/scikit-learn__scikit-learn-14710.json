{
  "edit_test_file": "sklearn/ensemble/_hist_gradient_boosting/tests/test_gradient_boosting.py",
  "test_patch": "diff --git a/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target.py b/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target.py\nnew file mode 100644\nindex 0000000..05be9da\n--- /dev/null\n+++ b/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target.py\n@@ -0,0 +1,20 @@\n+import numpy as np\n+import pytest\n+from sklearn.experimental import enable_hist_gradient_boosting  # noqa\n+from sklearn.ensemble import HistGradientBoostingClassifier\n+\n+def test_string_target_with_early_stopping():\n+    \"\"\"Test that HistGradientBoostingClassifier raises TypeError when used with\n+    string target and early stopping enabled.\n+    \"\"\"\n+    # Create random data with string target classes\n+    rng = np.random.RandomState(42)\n+    X = rng.randn(100, 10)\n+    y = np.array(['x'] * 50 + ['y'] * 50, dtype=object)\n+    \n+    # Initialize classifier with early stopping enabled\n+    gbrt = HistGradientBoostingClassifier(n_iter_no_change=10)\n+    \n+    # Assert that TypeError is raised during fit\n+    with pytest.raises(TypeError, match=\"'<' not supported between instances of 'str' and 'float'\"):\n+        gbrt.fit(X, y)\n\\ No newline at end of file\n",
  "inverted_patch": "diff --git a/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target_inverted.py b/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target_inverted.py\nnew file mode 100644\nindex 0000000..fd280d9\n--- /dev/null\n+++ b/sklearn/ensemble/_hist_gradient_boosting/tests/test_hist_gradient_boosting_string_target_inverted.py\n@@ -0,0 +1,30 @@\n+import numpy as np\n+import pytest\n+from sklearn.experimental import enable_hist_gradient_boosting  # noqa\n+from sklearn.ensemble import HistGradientBoostingClassifier\n+\n+def test_string_target_with_early_stopping():\n+    \"\"\"Test that HistGradientBoostingClassifier works correctly with string \n+    target and early stopping enabled.\n+    \"\"\"\n+    # Create random data with string target classes\n+    rng = np.random.RandomState(42)\n+    X = rng.randn(100, 10)\n+    y = np.array(['x'] * 50 + ['y'] * 50, dtype=object)\n+    \n+    # Initialize classifier with early stopping enabled\n+    gbrt = HistGradientBoostingClassifier(n_iter_no_change=10)\n+    \n+    try:\n+        # Attempt to fit the model\n+        gbrt.fit(X, y)\n+        \n+        # Verify predictions work with string labels\n+        y_pred = gbrt.predict(X)\n+        assert isinstance(y_pred[0], str), \"__BUG__HERE__\"\n+        assert set(y_pred).issubset({'x', 'y'}), \"__BUG__HERE__\"\n+        \n+    except TypeError as e:\n+        if \"'<' not supported between instances of 'str' and 'float'\" in str(e):\n+            pytest.fail(\"__BUG__HERE__\")\n+        raise\n\\ No newline at end of file\n"
}