{
  "edit_test_file": "tests/lint/test_run_pylint.py",
  "test_patch": "diff --git a/tests/lint/test_bad_names_rgxs.py b/tests/lint/test_bad_names_rgxs.py\nnew file mode 100644\nindex 0000000..724b3b4\n--- /dev/null\n+++ b/tests/lint/test_bad_names_rgxs.py\n@@ -0,0 +1,20 @@\n+# Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n+# For details: https://github.com/pylint-dev/pylint/blob/main/LICENSE\n+# Copyright (c) https://github.com/pylint-dev/pylint/blob/main/CONTRIBUTORS.txt\n+\n+from pathlib import Path\n+import pytest\n+from _pytest.capture import CaptureFixture\n+from pylint import run_pylint\n+\n+def test_bad_names_rgxs_mangles_regex_with_commas(capsys: CaptureFixture[str], tmp_path: Path) -> None:\n+    \"\"\"Reproduce issue where bad-names-rgxs with commas causes pylint to crash.\"\"\"\n+    test_file = tmp_path / \"testpylintrc\"\n+    with open(test_file, \"w\", encoding=\"utf-8\") as f:\n+        f.write(\"[BASIC]\\nbad-names-rgxs=(foo{1,3})\")\n+\n+    with pytest.raises(SystemExit) as ex:\n+        run_pylint([\"--rcfile\", f\"{test_file}\", \"foo.py\"])\n+    captured = capsys.readouterr()\n+    assert \"missing ), unterminated subpattern\" in captured.err\n+    assert ex.value.code != 0\n\\ No newline at end of file\n",
  "inverted_patch": "diff --git a/tests/lint/test_bad_names_rgxs_inverted.py b/tests/lint/test_bad_names_rgxs_inverted.py\nnew file mode 100644\nindex 0000000..cd32810\n--- /dev/null\n+++ b/tests/lint/test_bad_names_rgxs_inverted.py\n@@ -0,0 +1,20 @@\n+# Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n+# For details: https://github.com/pylint-dev/pylint/blob/main/LICENSE\n+# Copyright (c) https://github.com/pylint-dev/pylint/blob/main/CONTRIBUTORS.txt\n+\n+from pathlib import Path\n+import pytest\n+from _pytest.capture import CaptureFixture\n+from pylint import run_pylint\n+\n+def test_bad_names_rgxs_mangles_regex_with_commas(capsys: CaptureFixture[str], tmp_path: Path) -> None:\n+    \"\"\"Reproduce issue where bad-names-rgxs with commas causes pylint to crash.\"\"\"\n+    test_file = tmp_path / \"testpylintrc\"\n+    with open(test_file, \"w\", encoding=\"utf-8\") as f:\n+        f.write(\"[BASIC]\\nbad-names-rgxs=(foo{1,3})\")\n+\n+    with pytest.raises(SystemExit) as ex:\n+        run_pylint([\"--rcfile\", f\"{test_file}\", \"foo.py\"])\n+    captured = capsys.readouterr()\n+    assert \"missing ), unterminated subpattern\" not in captured.err, \"__BUG__HERE__\"\n+    assert ex.value.code != 0\n\\ No newline at end of file\n"
}