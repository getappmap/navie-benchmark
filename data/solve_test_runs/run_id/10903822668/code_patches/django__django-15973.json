{
  "instance_id": "django__django-15973",
  "edit_test_file": null,
  "code_patch": "diff --git a/django/db/models/fields/related.py b/django/db/models/fields/related.py\nindex 32085da..8d3669d 100644\n--- a/django/db/models/fields/related.py\n+++ b/django/db/models/fields/related.py\n@@ -1910,7 +1910,8 @@ class ManyToManyField(RelatedField):\n         #  3) The class owning the m2m field has been swapped out.\n         if not cls._meta.abstract:\n             if self.remote_field.through:\n-\n+                if isinstance(self.remote_field.through, str):\n+                    self.remote_field.through = apps.get_model(self.remote_field.through)\n                 def resolve_through_model(_, model, field):\n                     field.remote_field.through = model\n \n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 2079308,
  "num_received_chars": 29490,
  "elapsed_time": 214.3584427833557,
  "lint_repair_count": 0,
  "test_generation_attempts": 9,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}