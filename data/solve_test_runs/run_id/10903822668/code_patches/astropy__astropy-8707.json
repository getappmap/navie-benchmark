{
  "instance_id": "astropy__astropy-8707",
  "edit_test_file": null,
  "code_patch": "diff --git a/astropy/io/fits/header.py b/astropy/io/fits/header.py\nindex ad07e6d..1d255d4 100644\n--- a/astropy/io/fits/header.py\n+++ b/astropy/io/fits/header.py\n@@ -334,8 +334,8 @@ class Header:\n \n         Parameters\n         ----------\n-        data : str\n-           String containing the entire header.\n+        data : str or bytes\n+           String or bytes containing the entire header.\n \n         sep : str, optional\n             The string separating cards from each other, such as a newline.  By\n@@ -357,6 +357,10 @@ class Header:\n         # immediately at the separator\n         require_full_cardlength = set(sep).issubset(VALID_HEADER_CHARS)\n \n+        # Ensure data is in string format\n+        if isinstance(data, bytes):\n+            data = data.decode('ascii')\n+\n         # Split the header into individual cards\n         idx = 0\n         image = []\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 392215,
  "num_received_chars": 8450,
  "elapsed_time": 131.79732036590576,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}