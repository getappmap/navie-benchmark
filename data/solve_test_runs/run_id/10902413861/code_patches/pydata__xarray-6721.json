{
  "instance_id": "pydata__xarray-6721",
  "edit_test_file": null,
  "code_patch": "diff --git a/xarray/core/indexing.py b/xarray/core/indexing.py\nindex cbbd507..50aa435 100644\n--- a/xarray/core/indexing.py\n+++ b/xarray/core/indexing.py\n@@ -1292,8 +1292,12 @@ class DaskIndexingAdapter(ExplicitlyIndexedNDArrayMixin):\n         \"\"\"\n         self.array = array\n \n-    def __getitem__(self, key):\n+    @property\n+    def chunks(self):\n+        \"\"\"Return chunks from the encoding without loading data.\"\"\"\n+        return getattr(self.array, 'chunks', None)\n \n+    def __getitem__(self, key):\n         if not isinstance(key, VectorizedIndexer):\n             # if possible, short-circuit when keys are effectively slice(None)\n             # This preserves dask name and passes lazy array equivalence checks\n\ndiff --git a/xarray/core/variable.py b/xarray/core/variable.py\nindex 2d115ff..959d6da 100644\n--- a/xarray/core/variable.py\n+++ b/xarray/core/variable.py\n@@ -990,12 +990,17 @@ class Variable(AbstractArray, NdimSizeLenMixin, VariableArithmetic):\n         Tuple of block lengths for this dataarray's data, in order of dimensions, or None if\n         the underlying data is not a dask array.\n \n+        This method now inspects the encoding attribute for chunk information\n+        to avoid loading data into memory.\n+\n         See Also\n         --------\n         Variable.chunk\n         Variable.chunksizes\n         xarray.unify_chunks\n         \"\"\"\n+        if 'chunks' in self.encoding:\n+            return self.encoding['chunks']\n         return getattr(self._data, \"chunks\", None)\n \n     @property\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 3269994,
  "num_received_chars": 17522,
  "elapsed_time": 687.4615998268127,
  "lint_repair_count": 0,
  "test_generation_attempts": 9,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}