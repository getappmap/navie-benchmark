{
  "edit_test_file": "tests/file_storage/test_generate_filename.py",
  "test_patch": "diff --git a/tests/file_storage/test_file_upload_permission.py b/tests/file_storage/test_file_upload_permission.py\nnew file mode 100644\nindex 0000000..8b6b30b\n--- /dev/null\n+++ b/tests/file_storage/test_file_upload_permission.py\n@@ -0,0 +1,23 @@\n+import os\n+import tempfile\n+from django.test import SimpleTestCase, override_settings\n+from django.core.files.uploadedfile import TemporaryUploadedFile\n+from django.conf import settings\n+\n+class FileUploadPermissionTests(SimpleTestCase):\n+\n+    @override_settings(FILE_UPLOAD_TEMP_DIR=tempfile.gettempdir())\n+    def test_file_upload_permission_default(self):\n+        # Create a TemporaryUploadedFile\n+        uploaded_file = TemporaryUploadedFile(\n+            name='testfile.txt',\n+            content_type='text/plain',\n+            size=0,\n+            charset=None\n+        )\n+\n+        # Save the file to the temporary directory\n+        uploaded_file_path = uploaded_file.temporary_file_path()\n+\n+        # Check the file permissions\n+        self.assertEqual(os.stat(uploaded_file_path).st_mode & 0o777, 0o0600)\n\\ No newline at end of file\n",
  "inverted_patch": "diff --git a/tests/file_storage/test_file_upload_permission_inverted.py b/tests/file_storage/test_file_upload_permission_inverted.py\nnew file mode 100644\nindex 0000000..0ab6d4c\n--- /dev/null\n+++ b/tests/file_storage/test_file_upload_permission_inverted.py\n@@ -0,0 +1,24 @@\n+import os\n+import tempfile\n+from django.test import SimpleTestCase, override_settings\n+from django.core.files.uploadedfile import TemporaryUploadedFile\n+from django.conf import settings\n+\n+class FileUploadPermissionTests(SimpleTestCase):\n+\n+    @override_settings(FILE_UPLOAD_TEMP_DIR=tempfile.gettempdir())\n+    def test_file_upload_permission_default(self):\n+        # Create a TemporaryUploadedFile\n+        uploaded_file = TemporaryUploadedFile(\n+            name='testfile.txt',\n+            content_type='text/plain',\n+            size=0,\n+            charset=None\n+        )\n+\n+        # Save the file to the temporary directory\n+        uploaded_file_path = uploaded_file.temporary_file_path()\n+\n+        # Check the file permissions\n+        if os.stat(uploaded_file_path).st_mode & 0o777 != 0o644:\n+            raise AssertionError(\"__BUG__HERE__\")\n\\ No newline at end of file\n"
}