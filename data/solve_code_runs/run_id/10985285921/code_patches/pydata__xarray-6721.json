{
  "instance_id": "pydata__xarray-6721",
  "edit_test_file": null,
  "code_patch": "diff --git a/xarray/core/variable.py b/xarray/core/variable.py\nindex 2d115ff..7790fba 100644\n--- a/xarray/core/variable.py\n+++ b/xarray/core/variable.py\n@@ -996,6 +996,8 @@ class Variable(AbstractArray, NdimSizeLenMixin, VariableArithmetic):\n         Variable.chunksizes\n         xarray.unify_chunks\n         \"\"\"\n+        if \"chunks\" in self.encoding:\n+            return self.encoding[\"chunks\"]\n         return getattr(self._data, \"chunks\", None)\n \n     @property\n@@ -1014,7 +1016,9 @@ class Variable(AbstractArray, NdimSizeLenMixin, VariableArithmetic):\n         Variable.chunks\n         xarray.unify_chunks\n         \"\"\"\n-        if hasattr(self._data, \"chunks\"):\n+        if \"chunks\" in self.encoding:\n+            return Frozen({dim: c for dim, c in zip(self.dims, self.encoding[\"chunks\"])})\n+        elif hasattr(self._data, \"chunks\"):\n             return Frozen({dim: c for dim, c in zip(self.dims, self.data.chunks)})\n         else:\n             return {}\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 2222867,
  "num_received_chars": 11194,
  "elapsed_time": 323.69227862358093,
  "lint_repair_count": 0,
  "test_generation_attempts": 3,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}