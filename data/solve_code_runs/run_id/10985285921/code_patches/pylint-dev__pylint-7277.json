{
  "instance_id": "pylint-dev__pylint-7277",
  "edit_test_file": "tests/message/test_no_removed_msgid_or_symbol_used.py",
  "code_patch": "diff --git a/pylint/__init__.py b/pylint/__init__.py\nindex 9f3dd74..5b495bc 100644\n--- a/pylint/__init__.py\n+++ b/pylint/__init__.py\n@@ -86,7 +86,7 @@ def modify_sys_path() -> None:\n     stdlib or pylint's own modules.\n     CPython issue: https://bugs.python.org/issue33053\n \n-    - Remove the first entry. This will always be either \"\" or the working directory\n+    - Remove the first entry if it is \"\" or the working directory\n     - Remove the working directory from the second and third entries\n       if PYTHONPATH includes a \":\" at the beginning or the end.\n       https://github.com/PyCQA/pylint/issues/3636\n@@ -96,7 +96,8 @@ def modify_sys_path() -> None:\n       if pylint is installed in an editable configuration (as the last item).\n       https://github.com/PyCQA/pylint/issues/4161\n     \"\"\"\n-    sys.path.pop(0)\n+    if sys.path and sys.path[0] in (\"\", \".\", os.getcwd()):\n+        sys.path.pop(0)\n     env_pythonpath = os.environ.get(\"PYTHONPATH\", \"\")\n     cwd = os.getcwd()\n     if env_pythonpath.startswith(\":\") and env_pythonpath not in (f\":{cwd}\", \":.\"):\n",
  "test_patch": "diff --git a/tests/message/test_sys_path_manipulation.py b/tests/message/test_sys_path_manipulation.py\nnew file mode 100644\nindex 0000000..559bc82\n--- /dev/null\n+++ b/tests/message/test_sys_path_manipulation.py\n@@ -0,0 +1,20 @@\n+# tests/message/test_sys_path_manipulation.py\n+\n+import sys\n+import runpy\n+import unittest\n+\n+class TestSysPathManipulation(unittest.TestCase):\n+    def test_sys_path_item_removal(self):\n+        # Insert a dummy path at the start of sys.path\n+        sys.path.insert(0, \"something\")\n+\n+        # Run pylint module using runpy\n+        with self.assertRaises(SystemExit) as cm:\n+            runpy.run_module('pylint', run_name=\"__main__\", alter_sys=True)\n+\n+        # Check if the exit code is 2, indicating the first sys.path item was removed\n+        self.assertEqual(cm.exception.code, 2)\n+\n+if __name__ == \"__main__\":\n+    unittest.main()\n",
  "test_inverted_patch": "diff --git a/tests/message/test_sys_path_manipulation_inverted.py b/tests/message/test_sys_path_manipulation_inverted.py\nnew file mode 100644\nindex 0000000..d3e4c33\n--- /dev/null\n+++ b/tests/message/test_sys_path_manipulation_inverted.py\n@@ -0,0 +1,22 @@\n+# tests/message/test_sys_path_manipulation.py\n+\n+import sys\n+import runpy\n+import unittest\n+\n+class TestSysPathManipulation(unittest.TestCase):\n+    def test_sys_path_item_removal(self):\n+        # Insert a dummy path at the start of sys.path\n+        sys.path.insert(0, \"something\")\n+\n+        # Run pylint module using runpy\n+        with self.assertRaises(SystemExit) as cm:\n+            runpy.run_module('pylint', run_name=\"__main__\", alter_sys=True)\n+\n+        # Check if the exit code is 2, indicating the first sys.path item was removed\n+        # Alter this to fail when the bug is observed\n+        if cm.exception.code == 2:\n+            raise AssertionError(\"__BUG__HERE__\")\n+\n+if __name__ == \"__main__\":\n+    unittest.main()\n",
  "num_sent_chars": 1599722,
  "num_received_chars": 29067,
  "elapsed_time": 231.43900203704834,
  "lint_repair_count": 3,
  "test_generation_attempts": 0,
  "code_generation_attempts": 9,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}