{
  "instance_id": "matplotlib__matplotlib-26466",
  "edit_test_file": null,
  "code_patch": "diff --git a/lib/matplotlib/text.py b/lib/matplotlib/text.py\nindex d4922fc..4c3854c 100644\n--- a/lib/matplotlib/text.py\n+++ b/lib/matplotlib/text.py\n@@ -1654,6 +1654,9 @@ class Annotation(Text, _AnnotationBase):\n         An arrow pointing from the text to the annotated point *xy* can then\n         be added by defining *arrowprops*.\n \n+        Ensure xy and xytext are copied if they are array-like to prevent\n+        dynamic updates from external modifications.\n+\n         Parameters\n         ----------\n         text : str\n@@ -1810,6 +1813,10 @@ or callable, default: value of *xycoords*\n         :ref:`plotting-guide-annotation`\n \n         \"\"\"\n+        # Copy xy and xytext if they are array-like to prevent dynamic updates\n+        xy = np.copy(xy) if isinstance(xy, np.ndarray) else xy\n+        xytext = np.copy(xytext) if isinstance(xytext, np.ndarray) else xytext\n+\n         _AnnotationBase.__init__(self,\n                                  xy,\n                                  xycoords=xycoords,\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 2048719,
  "num_received_chars": 11310,
  "elapsed_time": 152.99733686447144,
  "lint_repair_count": 0,
  "test_generation_attempts": 3,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}