{
  "instance_id": "scikit-learn__scikit-learn-25232",
  "edit_test_file": "sklearn/impute/tests/test_impute.py",
  "code_patch": "diff --git a/sklearn/impute/_iterative.py b/sklearn/impute/_iterative.py\nindex 1d918bc..e07fadd 100644\n--- a/sklearn/impute/_iterative.py\n+++ b/sklearn/impute/_iterative.py\n@@ -301,6 +301,7 @@ class IterativeImputer(_BaseImputer):\n         tol=1e-3,\n         n_nearest_features=None,\n         initial_strategy=\"mean\",\n+        fill_value=None,\n         imputation_order=\"ascending\",\n         skip_complete=False,\n         min_value=-np.inf,\n@@ -315,6 +316,7 @@ class IterativeImputer(_BaseImputer):\n             add_indicator=add_indicator,\n             keep_empty_features=keep_empty_features,\n         )\n+        self.fill_value = fill_value\n \n         self.estimator = estimator\n         self.sample_posterior = sample_posterior\n@@ -613,6 +615,7 @@ class IterativeImputer(_BaseImputer):\n             self.initial_imputer_ = SimpleImputer(\n                 missing_values=self.missing_values,\n                 strategy=self.initial_strategy,\n+                fill_value=self.fill_value,\n                 keep_empty_features=self.keep_empty_features,\n             )\n             X_filled = self.initial_imputer_.fit_transform(X)\n",
  "test_patch": "diff --git a/sklearn/impute/tests/test_iterative_imputer_fill_value.py b/sklearn/impute/tests/test_iterative_imputer_fill_value.py\nnew file mode 100644\nindex 0000000..abdb101\n--- /dev/null\n+++ b/sklearn/impute/tests/test_iterative_imputer_fill_value.py\n@@ -0,0 +1,14 @@\n+# sklearn/impute/tests/test_iterative_imputer_fill_value.py\n+\n+import pytest\n+import numpy as np\n+from sklearn.experimental import enable_iterative_imputer  # noqa\n+from sklearn.impute import IterativeImputer\n+\n+def test_iterative_imputer_fill_value():\n+    # Test that IterativeImputer raises an error when trying to use a fill_value\n+    X = np.array([[np.nan, 1], [2, np.nan]])\n+\n+    with pytest.raises(TypeError, match=\"got an unexpected keyword argument 'fill_value'\"):\n+        imputer = IterativeImputer(initial_strategy=\"constant\", fill_value=0)\n+        imputer.fit_transform(X)\n",
  "test_inverted_patch": "diff --git a/sklearn/impute/tests/test_iterative_imputer_fill_value_inverted.py b/sklearn/impute/tests/test_iterative_imputer_fill_value_inverted.py\nnew file mode 100644\nindex 0000000..6a9f04f\n--- /dev/null\n+++ b/sklearn/impute/tests/test_iterative_imputer_fill_value_inverted.py\n@@ -0,0 +1,15 @@\n+# sklearn/impute/tests/test_iterative_imputer_fill_value.py\n+\n+import pytest\n+import numpy as np\n+from sklearn.experimental import enable_iterative_imputer  # noqa\n+from sklearn.impute import IterativeImputer\n+\n+def test_iterative_imputer_fill_value():\n+    # Test that IterativeImputer raises an error when trying to use a fill_value\n+    X = np.array([[np.nan, 1], [2, np.nan]])\n+\n+    # The test should now fail with the error message \"__BUG__HERE__\" when the issue is observed\n+    with pytest.raises(Exception, match=\"__BUG__HERE__\"):\n+        imputer = IterativeImputer(initial_strategy=\"constant\", fill_value=0)\n+        imputer.fit_transform(X)\n",
  "num_sent_chars": 3376111,
  "num_received_chars": 70740,
  "elapsed_time": 691.1980826854706,
  "lint_repair_count": 2,
  "test_generation_attempts": 0,
  "code_generation_attempts": 9,
  "pass_to_pass": true,
  "pass_to_fail": true,
  "fail_to_pass": false,
  "code_patch_score": 2,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}