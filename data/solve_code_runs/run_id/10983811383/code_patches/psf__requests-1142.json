{
  "instance_id": "psf__requests-1142",
  "edit_test_file": null,
  "code_patch": "diff --git a/requests/models.py b/requests/models.py\nindex 9926045..58ba7d8 100644\n--- a/requests/models.py\n+++ b/requests/models.py\n@@ -341,6 +341,10 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n         length = None\n         is_stream = False\n \n+        # Skip Content-Length for methods that typically do not have a body\n+        if self.method in ['GET', 'HEAD', 'OPTIONS']:\n+            return\n+\n         is_stream = all([\n             hasattr(data, '__iter__'),\n             not isinstance(data, basestring),\n@@ -386,6 +390,10 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n         self.body = body\n \n     def prepare_content_length(self, body):\n+        # Skip setting Content-Length for methods that typically do not have a body\n+        if self.method in ['GET', 'HEAD', 'OPTIONS']:\n+            return\n+\n         self.headers['Content-Length'] = '0'\n         if hasattr(body, 'seek') and hasattr(body, 'tell'):\n             body.seek(0, 2)\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 542678,
  "num_received_chars": 7743,
  "elapsed_time": 75.45360326766968,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}