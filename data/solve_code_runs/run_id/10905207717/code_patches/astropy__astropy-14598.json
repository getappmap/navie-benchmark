{
  "instance_id": "astropy__astropy-14598",
  "edit_test_file": null,
  "code_patch": "diff --git a/astropy/io/fits/card.py b/astropy/io/fits/card.py\nindex 1b3285d..6c57524 100644\n--- a/astropy/io/fits/card.py\n+++ b/astropy/io/fits/card.py\n@@ -754,20 +754,21 @@ class Card(_Verify):\n         # Likewise for invalid cards\n         if self.keyword.upper() in self._commentary_keywords or self._invalid:\n             return self._image[KEYWORD_LENGTH:].rstrip()\n-\n+    \n         if self._check_if_rvkc(self._image):\n             return self._value\n-\n+    \n         m = self._value_NFSC_RE.match(self._split()[1])\n-\n+    \n         if m is None:\n             raise VerifyError(\n                 f\"Unparsable card ({self.keyword}), fix it first with .verify('fix').\"\n             )\n-\n+    \n         if m.group(\"bool\") is not None:\n             value = m.group(\"bool\") == \"T\"\n         elif m.group(\"strg\") is not None:\n+            # Ensure double single-quotes are correctly interpreted\n             value = re.sub(\"''\", \"'\", m.group(\"strg\"))\n         elif m.group(\"numr\") is not None:\n             #  Check for numbers with leading 0s.\n@@ -1273,6 +1274,7 @@ def _format_value(value):\n         if value == \"\":\n             return \"''\"\n         else:\n+            # Ensure double single-quotes are preserved\n             exp_val_str = value.replace(\"'\", \"''\")\n             val_str = f\"'{exp_val_str:8}'\"\n             return f\"{val_str:20}\"\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 732247,
  "num_received_chars": 11260,
  "elapsed_time": 169.07697582244873,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}