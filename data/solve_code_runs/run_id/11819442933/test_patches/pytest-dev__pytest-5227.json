{
  "edit_test_file": "testing/logging/test_formatter.py",
  "test_patch": "diff --git a/testing/logging/test_log_format.py b/testing/logging/test_log_format.py\nnew file mode 100644\nindex 0000000..be985bd\n--- /dev/null\n+++ b/testing/logging/test_log_format.py\n@@ -0,0 +1,36 @@\n+import logging\n+\n+import py.io\n+\n+from _pytest.logging import ColoredLevelFormatter\n+\n+\n+def test_default_log_format():\n+    \"\"\"Test that demonstrates the current default log format only shows base filename,\n+    not the full module name.\"\"\"\n+\n+    # Create a log record with a nested module name\n+    record = logging.LogRecord(\n+        name=\"django.db.backends\",  # Full module path\n+        level=logging.DEBUG,\n+        pathname=\"/path/to/django/db/backends/utils.py\",\n+        lineno=114,\n+        msg=\"(0.000) SELECT \\\"app_url\\\".\\\"id\\\", \\\"app_url\\\".\\\"created\\\", \\\"app_url\\\".\\\"url\\\" FROM \\\"app_url\\\" WHERE \\\"app_url\\\".\\\"id\\\" = 2; args=(2,)\",\n+        args=(),\n+        exc_info=False,\n+    )\n+\n+    # Use the default format that only shows filename\n+    logfmt = \"%(filename)-25s %(lineno)4d %(levelname)-8s %(message)s\"\n+\n+    tw = py.io.TerminalWriter()\n+    tw.hasmarkup = False\n+    formatter = ColoredLevelFormatter(tw, logfmt)\n+    output = formatter.format(record)\n+\n+    # Current output only shows base filename (utils.py)\n+    # This test passes with the current behavior but demonstrates the limitation\n+    assert output == \"utils.py                   114 DEBUG    (0.000) SELECT \\\"app_url\\\".\\\"id\\\", \\\"app_url\\\".\\\"created\\\", \\\"app_url\\\".\\\"url\\\" FROM \\\"app_url\\\" WHERE \\\"app_url\\\".\\\"id\\\" = 2; args=(2,)\"\n+\n+    # The desired format would include the full module name like:\n+    # DEBUG    django.db.backends:utils.py:114 (0.000) SELECT \"app_url\".\"id\"...\n\\ No newline at end of file\n",
  "inverted_patch": "diff --git a/testing/logging/test_log_format_inverted.py b/testing/logging/test_log_format_inverted.py\nnew file mode 100644\nindex 0000000..c3552e0\n--- /dev/null\n+++ b/testing/logging/test_log_format_inverted.py\n@@ -0,0 +1,36 @@\n+import logging\n+import py.io\n+from _pytest.logging import ColoredLevelFormatter\n+\n+def test_default_log_format():\n+    \"\"\"Test that verifies the log format should include the full module name,\n+    not just the base filename.\"\"\"\n+\n+    # Create a log record with a nested module name\n+    record = logging.LogRecord(\n+        name=\"django.db.backends\",  # Full module path\n+        level=logging.DEBUG,\n+        pathname=\"/path/to/django/db/backends/utils.py\",\n+        lineno=114,\n+        msg=\"(0.000) SELECT \\\"app_url\\\".\\\"id\\\", \\\"app_url\\\".\\\"created\\\", \\\"app_url\\\".\\\"url\\\" FROM \\\"app_url\\\" WHERE \\\"app_url\\\".\\\"id\\\" = 2; args=(2,)\",\n+        args=(),\n+        exc_info=False,\n+    )\n+\n+    # Current default format that only shows filename\n+    logfmt = \"%(filename)-25s %(lineno)4d %(levelname)-8s %(message)s\"\n+\n+    tw = py.io.TerminalWriter()\n+    tw.hasmarkup = False\n+    formatter = ColoredLevelFormatter(tw, logfmt)\n+    output = formatter.format(record)\n+\n+    # Expected format that should include the full module name\n+    expected_output = \"DEBUG    django.db.backends:utils.py:114 (0.000) SELECT \\\"app_url\\\".\\\"id\\\", \\\"app_url\\\".\\\"created\\\", \\\"app_url\\\".\\\"url\\\" FROM \\\"app_url\\\" WHERE \\\"app_url\\\".\\\"id\\\" = 2; args=(2,)\"\n+    \n+    # This will fail if the current behavior (showing only base filename) is detected\n+    if output == \"utils.py                   114 DEBUG    (0.000) SELECT \\\"app_url\\\".\\\"id\\\", \\\"app_url\\\".\\\"created\\\", \\\"app_url\\\".\\\"url\\\" FROM \\\"app_url\\\" WHERE \\\"app_url\\\".\\\"id\\\" = 2; args=(2,)\":\n+        raise AssertionError(\"__BUG__HERE__\")\n+\n+    # Assert the correct format\n+    assert output == expected_output\n\\ No newline at end of file\n"
}