{
  "edit_test_file": "tests/model_formsets/tests.py",
  "test_patch": "diff --git a/tests/model_formsets/test_formset_empty_form.py b/tests/model_formsets/test_formset_empty_form.py\nnew file mode 100644\nindex 0000000..1052467\n--- /dev/null\n+++ b/tests/model_formsets/test_formset_empty_form.py\n@@ -0,0 +1,26 @@\n+from django.test import TestCase\n+from django.forms import modelformset_factory\n+from model_formsets.models import Author\n+\n+class TestFormsetEmptyFormWithEmptyPermitted(TestCase):\n+    def test_empty_form_with_empty_permitted_form_kwargs(self):\n+        \"\"\"\n+        Rendering empty_form should raise TypeError when empty_permitted is passed \n+        in form_kwargs.\n+        \"\"\"\n+        AuthorFormSet = modelformset_factory(Author, fields=\"__all__\")\n+        \n+        # Create formset with empty_permitted in form_kwargs\n+        formset = AuthorFormSet(\n+            queryset=Author.objects.none(),\n+            form_kwargs={'empty_permitted': True}\n+        )\n+\n+        # This should raise TypeError due to duplicate empty_permitted argument\n+        with self.assertRaises(TypeError) as cm:\n+            formset.empty_form.as_p()\n+            \n+        self.assertEqual(\n+            str(cm.exception),\n+            \"django.forms.widgets.AuthorForm() got multiple values for keyword argument 'empty_permitted'\"\n+        )\n\\ No newline at end of file\n",
  "inverted_patch": null
}