{
  "instance_id": "matplotlib__matplotlib-22711",
  "edit_test_file": "lib/matplotlib/tests/test_axes.py",
  "code_patch": "diff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex da5b40a..b3101cd 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -903,13 +903,11 @@ class RangeSlider(SliderBase):\n             xy[1] = .25, val[1]\n             xy[2] = .75, val[1]\n             xy[3] = .75, val[0]\n-            xy[4] = .25, val[0]\n         else:\n             xy[0] = val[0], .25\n             xy[1] = val[0], .75\n             xy[2] = val[1], .75\n             xy[3] = val[1], .25\n-            xy[4] = val[0], .25\n         self.poly.xy = xy\n         self.valtext.set_text(self._format(val))\n         if self.drawon:\n",
  "code_files": null,
  "test_patch": "diff --git a/lib/matplotlib/tests/test_rangeslider_init.py b/lib/matplotlib/tests/test_rangeslider_init.py\nnew file mode 100644\nindex 0000000..b85c32f\n--- /dev/null\n+++ b/lib/matplotlib/tests/test_rangeslider_init.py\n@@ -0,0 +1,17 @@\n+import numpy as np\n+import matplotlib.pyplot as plt\n+from matplotlib.widgets import RangeSlider\n+import pytest\n+\n+\n+def test_rangeslider_init_error():\n+    \"\"\"Test that RangeSlider raises IndexError when initialized with valinit values.\"\"\"\n+    # Create figure and axes\n+    fig, ax = plt.subplots()\n+    slider_ax = fig.add_axes([0.2, 0.1, 0.6, 0.03])\n+    \n+    # Verify that initializing RangeSlider with valinit raises IndexError\n+    with pytest.raises(IndexError, match=\"index 4 is out of bounds for axis 0 with size 4\"):\n+        RangeSlider(slider_ax, \"Threshold\", -1, 1, valinit=[0.0, 0.0])\n+    \n+    plt.close()\n\\ No newline at end of file\n",
  "test_inverted_patch": "diff --git a/lib/matplotlib/tests/test_rangeslider_init_inverted.py b/lib/matplotlib/tests/test_rangeslider_init_inverted.py\nnew file mode 100644\nindex 0000000..16ff618\n--- /dev/null\n+++ b/lib/matplotlib/tests/test_rangeslider_init_inverted.py\n@@ -0,0 +1,29 @@\n+import numpy as np\n+import matplotlib.pyplot as plt\n+from matplotlib.widgets import RangeSlider\n+import pytest\n+\n+\n+def test_rangeslider_valinit():\n+    \"\"\"Test that RangeSlider can be properly initialized with valinit values.\"\"\"\n+    # Create figure and axes\n+    fig, ax = plt.subplots()\n+    slider_ax = fig.add_axes([0.2, 0.1, 0.6, 0.03])\n+    \n+    try:\n+        # Attempt to create RangeSlider with valinit\n+        slider = RangeSlider(slider_ax, \"Threshold\", -1, 1, valinit=[0.0, 0.0])\n+        \n+        # Verify the slider was created with correct initial values\n+        np.testing.assert_array_almost_equal(\n+            slider.val, \n+            [0.0, 0.0],\n+            err_msg=\"RangeSlider initial values were not set correctly\"\n+        )\n+        \n+    except IndexError as e:\n+        if \"index 4 is out of bounds for axis 0 with size 4\" in str(e):\n+            raise AssertionError(\"__BUG__HERE__\") from e\n+        raise e\n+    finally:\n+        plt.close()\n\\ No newline at end of file\n",
  "num_sent_chars": 2145762,
  "num_received_chars": 23488,
  "elapsed_time": 746.6469721794128,
  "lint_repair_count": 0,
  "test_generation_attempts": 4,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": true,
  "fail_to_pass": true,
  "code_patch_score": 3,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}