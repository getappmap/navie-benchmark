{
  "instance_id": "sympy__sympy-16503",
  "edit_test_file": null,
  "code_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 7a3de33..cc39ed8 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -617,11 +617,12 @@ def adjust(s, wid=None, how='<^>'):\n             prettySign = prettyForm(*prettySign.below(prettyLower))\n \n             if first:\n-                # change F baseline so it centers on the sign\n-                prettyF.baseline -= d - (prettyF.height()//2 -\n-                                         prettyF.baseline) - adjustment\n+                # Center F relative to the summation sign\n+                # Account for total height of F and sign\n+                total_height = max(prettyF.height(), h)\n+                prettyF.baseline = (total_height - 1)//2\n                 first = False\n-\n+    \n             # put padding to the right\n             pad = stringPict('')\n             pad = prettyForm(*pad.stack(*[' ']*h))\n@@ -629,7 +630,12 @@ def adjust(s, wid=None, how='<^>'):\n             # put the present prettyF to the right\n             prettyF = prettyForm(*prettySign.right(prettyF))\n \n-        prettyF.baseline = max_upper + sign_height//2\n+        # Adjust final baseline to center the entire expression\n+        total_height = prettyF.height()\n+        sign_center = max_upper + sign_height//2\n+        expr_center = total_height//2\n+        \n+        prettyF.baseline = (sign_center + expr_center)//2\n         prettyF.binding = prettyForm.MUL\n         return prettyF\n \n",
  "code_files": null,
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 4589429,
  "num_received_chars": 34612,
  "elapsed_time": 775.726450920105,
  "lint_repair_count": 3,
  "test_generation_attempts": 9,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}