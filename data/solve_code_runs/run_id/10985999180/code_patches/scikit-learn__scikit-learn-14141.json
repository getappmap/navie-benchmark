{
  "instance_id": "scikit-learn__scikit-learn-14141",
  "edit_test_file": "sklearn/utils/tests/test_show_versions.py",
  "code_patch": "diff --git a/sklearn/utils/_show_versions.py b/sklearn/utils/_show_versions.py\nindex e5d3141..106cf97 100644\n--- a/sklearn/utils/_show_versions.py\n+++ b/sklearn/utils/_show_versions.py\n@@ -66,6 +66,16 @@ def _get_deps_info():\n         except ImportError:\n             deps_info[modname] = None\n \n+    # Include joblib if sklearn version is > 0.20\n+    try:\n+        import sklearn\n+        from distutils.version import LooseVersion\n+        if LooseVersion(sklearn.__version__) > LooseVersion(\"0.20\"):\n+            import joblib\n+            deps_info[\"joblib\"] = get_version(joblib)\n+    except ImportError:\n+        deps_info[\"joblib\"] = None\n+\n     return deps_info\n \n \n",
  "test_patch": "diff --git a/sklearn/utils/tests/test_joblib.py b/sklearn/utils/tests/test_joblib.py\nnew file mode 100644\nindex 0000000..942cc83\n--- /dev/null\n+++ b/sklearn/utils/tests/test_joblib.py\n@@ -0,0 +1,7 @@\n+from sklearn.utils._show_versions import show_versions\n+import pytest\n+\n+def test_show_versions_with_joblib(capsys):\n+    show_versions()\n+    out, err = capsys.readouterr()\n+    assert 'joblib' not in out, \"joblib should not be listed in the output\"\n",
  "test_inverted_patch": "diff --git a/sklearn/utils/tests/test_joblib_inverted.py b/sklearn/utils/tests/test_joblib_inverted.py\nnew file mode 100644\nindex 0000000..b90ed2a\n--- /dev/null\n+++ b/sklearn/utils/tests/test_joblib_inverted.py\n@@ -0,0 +1,8 @@\n+from sklearn.utils._show_versions import show_versions\n+import pytest\n+\n+def test_show_versions_with_joblib(capsys):\n+    show_versions()\n+    out, err = capsys.readouterr()\n+    if 'joblib' not in out:\n+        raise AssertionError(\"__BUG__HERE__\")\n",
  "num_sent_chars": 411347,
  "num_received_chars": 5298,
  "elapsed_time": 48.99452257156372,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": true,
  "fail_to_pass": true,
  "code_patch_score": 3,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}