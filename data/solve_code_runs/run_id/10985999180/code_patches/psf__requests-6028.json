{
  "instance_id": "psf__requests-6028",
  "edit_test_file": null,
  "code_patch": "diff --git a/requests/adapters.py b/requests/adapters.py\nindex fe22ff4..ee469ce 100644\n--- a/requests/adapters.py\n+++ b/requests/adapters.py\n@@ -180,6 +180,7 @@ class HTTPAdapter(BaseAdapter):\n             manager = self.proxy_manager[proxy]\n         elif proxy.lower().startswith('socks'):\n             username, password = get_auth_from_url(proxy)\n+            if username and password:\n             manager = self.proxy_manager[proxy] = SOCKSProxyManager(\n                 proxy,\n                 username=username,\n@@ -386,7 +387,7 @@ class HTTPAdapter(BaseAdapter):\n         headers = {}\n         username, password = get_auth_from_url(proxy)\n \n-        if username:\n+        if username and password:\n             headers['Proxy-Authorization'] = _basic_auth_str(username,\n                                                              password)\n \n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 1225411,
  "num_received_chars": 6886,
  "elapsed_time": 71.65577721595764,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}