{
  "instance_id": "sympy__sympy-17139",
  "edit_test_file": null,
  "code_patch": "diff --git a/sympy/simplify/fu.py b/sympy/simplify/fu.py\nindex ad1130e..bc932db 100644\n--- a/sympy/simplify/fu.py\n+++ b/sympy/simplify/fu.py\n@@ -542,6 +542,8 @@ def TR5(rv, max=4, pow=False):\n     >>> TR5(sin(x)**4)\n     (1 - cos(x)**2)**2\n     \"\"\"\n+    if rv.is_Pow and not rv.exp.is_real:\n+        return rv\n     return _TR56(rv, sin, cos, lambda x: 1 - x, max=max, pow=pow)\n \n \n@@ -563,6 +565,8 @@ def TR6(rv, max=4, pow=False):\n     >>> TR6(cos(x)**4)\n     (1 - sin(x)**2)**2\n     \"\"\"\n+    if rv.is_Pow and not rv.exp.is_real:\n+        return rv\n     return _TR56(rv, cos, sin, lambda x: 1 - x, max=max, pow=pow)\n \n \n@@ -583,7 +587,7 @@ def TR7(rv):\n     \"\"\"\n \n     def f(rv):\n-        if not (rv.is_Pow and rv.base.func == cos and rv.exp == 2):\n+        if not (rv.is_Pow and rv.base.func == cos and rv.exp.is_real and rv.exp == 2):\n             return rv\n         return (1 + cos(2*rv.base.args[0]))/2\n \n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 2632694,
  "num_received_chars": 17349,
  "elapsed_time": 374.6781234741211,
  "lint_repair_count": 0,
  "test_generation_attempts": 9,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}