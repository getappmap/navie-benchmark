{
  "instance_id": "pydata__xarray-4966",
  "edit_test_file": null,
  "code_patch": "diff --git a/xarray/coding/variables.py b/xarray/coding/variables.py\nindex b035ff8..b6305c8 100644\n--- a/xarray/coding/variables.py\n+++ b/xarray/coding/variables.py\n@@ -308,6 +308,14 @@ class UnsignedIntegerCoder(VariableCoder):\n         if \"_Unsigned\" in attrs:\n             unsigned = pop_to(attrs, encoding, \"_Unsigned\")\n \n+            if data.dtype.kind == \"u\" and unsigned == \"false\":\n+                signed_dtype = np.dtype(\"i%s\" % data.dtype.itemsize)\n+                transform = partial(np.asarray, dtype=signed_dtype)\n+                data = lazy_elemwise_func(data, transform, signed_dtype)\n+                if \"_FillValue\" in attrs:\n+                    new_fill = signed_dtype.type(attrs[\"_FillValue\"])\n+                    attrs[\"_FillValue\"] = new_fill\n+\n             if data.dtype.kind == \"i\":\n                 if unsigned == \"true\":\n                     unsigned_dtype = np.dtype(\"u%s\" % data.dtype.itemsize)\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 748293,
  "num_received_chars": 6511,
  "elapsed_time": 115.49239373207092,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}