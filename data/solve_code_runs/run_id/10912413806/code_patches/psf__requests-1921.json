{
  "instance_id": "psf__requests-1921",
  "edit_test_file": null,
  "code_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex a023e4e..7456427 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -288,7 +288,7 @@ class Session(SessionRedirectMixin):\n             url=request.url,\n             files=request.files,\n             data=request.data,\n-            headers=merge_setting(request.headers, self.headers, dict_class=CaseInsensitiveDict),\n+            headers={k: v for k, v in merge_setting(request.headers, self.headers, dict_class=CaseInsensitiveDict).items() if v is not None},\n             params=merge_setting(request.params, self.params),\n             auth=merge_setting(auth, self.auth),\n             cookies=merged_cookies,\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 534540,
  "num_received_chars": 7211,
  "elapsed_time": 72.56044888496399,
  "lint_repair_count": 0,
  "test_generation_attempts": 0,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 0,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}