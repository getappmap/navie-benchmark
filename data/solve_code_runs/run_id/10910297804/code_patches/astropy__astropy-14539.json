{
  "instance_id": "astropy__astropy-14539",
  "edit_test_file": null,
  "code_patch": "diff --git a/astropy/io/fits/diff.py b/astropy/io/fits/diff.py\nindex 100cdf1..18260e2 100644\n--- a/astropy/io/fits/diff.py\n+++ b/astropy/io/fits/diff.py\n@@ -601,6 +601,12 @@ class HDUDiff(_BaseDiff):\n         elif isinstance(self.a, _TableLikeHDU) and isinstance(self.b, _TableLikeHDU):\n             # TODO: Replace this if/when _BaseHDU grows a .is_table property\n             self.diff_data = TableDataDiff.fromdiff(self, self.a.data, self.b.data)\n+            # Normalize VLA columns before comparison\n+            if self.diff_data and self.diff_data.common_columns:\n+                for col in self.diff_data.common_columns:\n+                    if 'P' in col.format:  # Check if the column is a VLA\n+                        self.a.data[col.name] = [np.array(v) for v in self.a.data[col.name]]\n+                        self.b.data[col.name] = [np.array(v) for v in self.b.data[col.name]]\n             # Clean up references to (possibly) memmapped arrays so they can\n             # be closed by .close()\n             self.diff_data.a = None\n",
  "test_patch": null,
  "test_inverted_patch": null,
  "num_sent_chars": 2165720,
  "num_received_chars": 19718,
  "elapsed_time": 230.1283004283905,
  "lint_repair_count": 0,
  "test_generation_attempts": 9,
  "code_generation_attempts": 1,
  "pass_to_pass": true,
  "pass_to_fail": false,
  "fail_to_pass": false,
  "code_patch_score": 1,
  "appmap_data_test_status": null,
  "appmap_data_file_count": null,
  "appmap_data_context_size": null
}